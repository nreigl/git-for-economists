---
title: "Git for economist"
author: "Heili Hein & Nicolas Reigl"
date: "29-12-2020"
output:
  revealjs::revealjs_presentation:
    theme: simple
    transition: default
    self_contained: false
    reveal_plugins: notes
    css: styles.css
    center: false
    mathjax: NULL
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


# Intro 

- Outreach: 
  - We all have some skills we can share

## Plan for today 

- Short & low level introduction to git & github focused on what might be useful for economists
- Concepts
- Live-tutorial
- Hands on? 


## Disclaimer 

- Not related to Eesti Pank/ Taltech
- We are not computer science experts 
    - content is based on our limited CS background and programming experience 
- Opinionated views on workflows and best practices 


## Resources 

- [Git docs](https://git-scm.com/doc)
- [Atlasian git tutorial](https://www.atlassian.com/git/tutorials) 
- [Software Carpentry git tutorial](https://swcarpentry.github.io/git-novice/)
- [QuantEcon git tutorial](https://julia.quantecon.org/more_julia/version_control.html)
- [Flight rules for Git](https://github.com/k88hudson/git-flight-rules/blob/master/README.md)

# What is git? 

Git is officially defined as a *distributed version control system* (VCS)

- A system that tracks changes to our project files over time
  - record project changes and go back to specific versions of tracked files, at any given point in time 
  - system can be used by many people to collaborate efficiently
    - each developer can have their own version of the project, distributed on their computer
    - later the individual versions of the project can be merged and adapted to the main version of the project

## What is github? 

- Github is an online platform built for collaborative software development that uses the git protocol
- Github provides free unlimited private repos 
- Paid subscriptions for a wide range of services


Alternatives 

- [Gitlab](https://about.gitlab.com)
- Host your private git server


# Why learn git (as an economist)? 

## 

> The master-economist must possess a rare combination of gifts .... He must be mathematician, historian, statesman, philosopherâ€”in some degree....

John Maynard Keynes

Economists today: 

  - Statistical programming 
  - DevTools 
  - Collaborate interdisciplinary

## Economists work with code 

but it seems we are not adopting many important tools from the experts on code

Why? 

 - Learning new things is costly 
 - Rethink our workflows 
 - Its simply not thought! 


## Who uses Git? 

- [Instituations (NY FED)](https://github.com/FRBNY-DSGE)
- [Econ Projects (QuantEcon Project)](https://github.com/QuantEcon/)
- [University Departments (ScPo Department of Economics)](https://github.com/ScPoEcon)
- [Econ software platforms (Dynare)](https://git.dynare.org/Dynare)
- [Econometric packages (FixEst Package)](https://github.com/lrberge/fixest)
- [Individual economists (Victor Chernozhukov)](https://www.victorchernozhukov.com/code-and-notebooks)


# Why use version control 

## 
Do you have files like final.txt, final_revised.txt, final_revised2.txt, final_revised2_revised.txt?

<img data-src="phd101212s.png" height="520" width="800" />

  - 'Piled Higher and Deeper' by Jorge Cham www.phdcomics.com

##

 - Keep track of changes to text files line-by-line over time
 - Keep track of what you changed between different versions
 - Branching and merging: Experiment safely; integrate when done
 - Revert any change if needed
 - Back up and distribute copies of files
 - Co-authored research is common: Version control allows easier tracking of collaboration and changes
    - Work offline and asynchronously
    - Collaborate remotely, centralized,  in real time
 

## Reproducability 

- Many journals require data & code with submissions
- Proper version control makes reproducing results easier
- Github offers tools for code testing and code deployment 

 
## Teaching 

- Using github to teach encourages students to use git and github themselves --> important industry skill
- Allows to update and test new teaching material before 
- Easier to upload and distribute new teaching material (when using Github)


# Learning git 

## Git concepts 

 - **repository(repo)**: a collection of files and their history
 - **commit**: a snapshot of your files at a given time
 - **Staging area**: where you list files that will go into your next commit
 - **(local) Repository**: where the commits are stored; ie, it contains thef ull history of previous versions of the files in the repository, and relevant metadata
 - **(remote) Repository**: a version of the repository hosted elsewhere
 - **gitignore**: a file that declares what should **NOT** be tracked
 - **Main (or Master)**: Main version of the code
 - **Branches**: sequence of commits which can trace *alternative* history and versions of your code in the repo 
 - *HEAD*: pointer to branch ("Where your next commit would go")

## Basic git commands 

- **git init**: start a new repository in the working directory
- **git status**: query the state of your director
- **git add**: add new or modified files to the staging area
- **git commit**: commit changes in the index 
- **git branch**: create  or list branch
- **git checkout**: switch branch
- **git diff**: show what changed wrt. the last commit or index
- **git log**: show the commit history
- **git push**: send your local changes to a remote server
- **git pull (git fetch; git merge)**: get last changes from a remote 
- **git clone**: create local copy of public source project


## Setup 

- [Download git](https://git-scm.com/downloads)
- Install and if necessary set path
- Terminal editor
 - Various shell addons for various terminals
- Configure your name and & email 

```git
git config --global user.name "Your name"
git config --global user.email "your@email.com"
```

Tips: 
```git
git config --global core.editor "code --wait" # sets VS code as core editor
git config --global -e
```

Possible trap: 
```git
git config --global core.autocrlf true # Windows
git config --global core.autocrlf input # OSX
```



## 
Collaborate with others: 

- Create Github account 

## GUI 

- RStudio
- VSCode 
  - Gitlens 
- Gitkraken

# Git Workflows 

## Basic Workflow 

- 1. Create an empty folder
- 2. Init repository (**git init**) 
- 3. Add files & annotate them 
- 4. Add the files to the staging area (**git add**)
- 5. Commit the files (**git commit**)


## Personal remote workflow 

- Steps 1-5
- Create an *empty* repo on github 
- Link the github remote to your local repo
- Push from the local repo to the remote
- After working on the local repo, repeat steps 4-5
- If the working tree is not *clean* before pulling from remote, repeat steps 4-5
- Pull from the remote to the local repo 

## Collaborating workflow 

- Step 1
- Fork a public repo 
- Clone the *forked* repo to local empty folder
- (*Optional: create a dev branch*)
- Work on the forked repo (*main or dev and then merge back to main*)
- Push back to the personal fork
- Create a pull request
- Review process of pull request 


# Live tutorial 


# Conlusions 